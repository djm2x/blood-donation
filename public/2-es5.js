function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,a=!0,l=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==i.return||i.return()}finally{if(l)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"3VwI":function(e,t,n){"use strict";var i=n("8Y7J"),o=n("6UMx"),a=n("Q+lL"),l=n("Xd0L"),s=n("SVse"),r=n("mrSG"),u=function(){function e(t,n,i){_classCallCheck(this,e),this.bottomSheetRef=t,this.data=n,this.url=i,this.list=[],this.folder=""}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this.data.fileName.split(";");e.pop(),this.folder=this.data.folder,this.list=e}},{key:"openLink",value:function(e){return r.a(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.open("".concat(this.url,"/").concat(this.folder,"/").concat(e));case 1:case"end":return t.stop()}}),t,this)})))}}]),e}(),c=n("lwm9");n.d(t,"a",(function(){return v}));var h=i.qb({encapsulation:0,styles:[[""]],data:{}});function d(e){return i.Ob(0,[(e()(),i.sb(0,0,null,null,7,"a",[["class","mat-list-item"],["mat-list-item",""]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.openLink(e.parent.context.$implicit)&&i),i}),o.c,o.a)),i.rb(1,1228800,null,3,a.b,[i.k,i.h,[2,a.e],[2,a.a]],null,null),i.Kb(603979776,1,{_lines:1}),i.Kb(603979776,2,{_avatar:0}),i.Kb(603979776,3,{_icon:0}),(e()(),i.sb(5,0,null,1,2,"span",[["class","mat-line"],["mat-line",""]],null,null,null,null,null)),i.rb(6,16384,[[1,4]],0,l.o,[],null,null),(e()(),i.Mb(7,null,["- ",""]))],null,(function(e,t){e(t,0,0,i.Eb(t,1)._avatar||i.Eb(t,1)._icon,i.Eb(t,1)._avatar||i.Eb(t,1)._icon);var n=t.parent.context.$implicit.substring(14);e(t,7,0,n)}))}function f(e){return i.Ob(0,[(e()(),i.sb(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),i.hb(16777216,null,null,1,null,d)),i.rb(2,16384,null,0,s.m,[i.O,i.L],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,""!==t.context.$implicit)}),null)}function m(e){return i.Ob(0,[(e()(),i.sb(0,0,null,null,3,"mat-nav-list",[["class","mat-nav-list mat-list-base"],["role","navigation"]],null,null,null,o.d,o.b)),i.rb(1,704512,null,0,a.e,[],null,null),(e()(),i.hb(16777216,null,0,1,null,f)),i.rb(3,278528,null,0,s.l,[i.O,i.L,i.r],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,3,0,t.component.list)}),null)}var v=i.ob("app-download-sheet",u,(function(e){return i.Ob(0,[(e()(),i.sb(0,0,null,null,1,"app-download-sheet",[],null,null,null,m,h)),i.rb(1,114688,null,0,u,[c.e,c.a,"BASE_URL"],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[])},"5WMv":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("mrSG"),o=n("XNiG"),a=function(){function e(t,n){_classCallCheck(this,e),this.filesService=t,this.url=n,this.listOfNames=[],this.imagesToShow=[],this.listToDelete=[],this.files=[],this.nameBtn="",this.folderToSaveInServer="folder",this.multiple=!1,this.oneImage="assets/404.jpg",this.Images=[],this.propertyOfParent=new o.a,this.eventSubmitToParent=new o.a,this.eventSubmitFromParent=new o.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.propertyOfParent.subscribe((function(t){var n=t?t.split(";"):[];if(n.pop(),e.listOfNames=n,e.listToDelete=[],console.log(n),e.multiple)n.forEach((function(t,n){var i=t;if(null!==i&&i.startsWith("http"))e.Images[n]={name:i,image:i};else if(i){var o="".concat(e.url,"/").concat(e.folderToSaveInServer.replace("_","/"),"/").concat(i);e.Images[n]={name:o,image:o}}else e.Images[n]={name:"assets/404.jpg",image:"assets/404.jpg"}}));else{var i=0!==n.length?n[0]:null;e.oneImage=null!==i&&i.startsWith("http")?i:i?"".concat(e.url,"/").concat(e.folderToSaveInServer,"/").concat(i):"assets/404.jpg"}})),this.eventSubmitFromParent.subscribe((function(t){return i.a(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.submit(t);case 2:case"end":return e.stop()}}),e,this)})))}))}},{key:"upload",value:function(e){var t=this;if(this.multiple)for(var n=0;n<e.length;n++){var i=e.item(n);this.listOfNames.push(this.setFileName(i)),this.sendPropertyOfParent(),this.files.push(i),this.files.forEach((function(e,n){var i=new FileReader;i.onload=function(){-1===t.Images.findIndex((function(n){return t.setFileName(e).includes(n.name)}))&&t.Images.push({name:t.setFileName(e),image:i.result.toString()})},i.readAsDataURL(e)}))}else{var o=e.item(0);this.listOfNames=[],this.listOfNames.push(this.setFileName(o)),this.sendPropertyOfParent(),this.files=[],this.files.push(o),this.handleFileInput(o)}}},{key:"fileToImageFrom",value:function(){}},{key:"handleFileInput",value:function(e){var t=this,n=new FileReader;n.onload=function(){return t.oneImage=n.result.toString()},n.readAsDataURL(e)}},{key:"imgError",value:function(e){e.src="assets/404.jpg"}},{key:"setIcon",value:function(e){var t=e.lastIndexOf("."),n=e.substring(t+1);return"pdf"===n||"pdf;"===n?"assets/svg/pdf.svg":"assets/svg/word.svg"}},{key:"removeFromImages",value:function(e){var t=this.Images.findIndex((function(t){return e.includes(t.name)}));this.Images.splice(t,1);var n=this.listOfNames.findIndex((function(t){return e.includes(t)}));this.listToDelete.push(this.listOfNames[n]),-1!==n&&(this.listOfNames.splice(n,1),this.sendPropertyOfParent());var i=e.indexOf("_"),o=e.substring(i);-1!==this.files.findIndex((function(e){return e.name===o}))&&this.files.splice(n,1)}},{key:"remove",value:function(e){var t=this.listOfNames.findIndex((function(t){return e.includes(t)}));this.listToDelete.push(this.listOfNames[t]),-1!==t&&(this.listOfNames.splice(t,1),this.sendPropertyOfParent());var n=e.indexOf("_"),i=e.substring(n);-1!==this.files.findIndex((function(e){return e.name===i}))&&this.files.splice(t,1),this.oneImage="assets/404.jpg"}},{key:"openInput",value:function(e){e.click()}},{key:"sendPropertyOfParent",value:function(){var e="";this.listOfNames.forEach((function(t){e+="".concat(t,";")})),this.eventSubmitToParent.next(e)}},{key:"submit",value:function(e){return i.a(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,o,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=new FormData,this.files.forEach((function(e){var t=a.setFileName(e);n.append("file",e,t),console.log(e)})),!n){t.next=10;break}return e.id&&!this.folderToSaveInServer.includes("_")&&(this.folderToSaveInServer="".concat(this.folderToSaveInServer,"_").concat(e.id)),t.next=5,this.filesService.uploadFiles(n,this.folderToSaveInServer).toPromise();case 5:return i=t.sent,t.next=8,this.filesService.deleteFiles(this.listToDelete,this.folderToSaveInServer).toPromise();case 8:o=t.sent,console.log(i,o);case 10:case"end":return t.stop()}}),t,this)})))}},{key:"setFileName",value:function(e){return"".concat(e.lastModified,"_").concat(e.name)}}]),e}()},"Dau+":function(e,t,n){"use strict";var i=n("8Y7J"),o=n("bujt"),a=n("Fwaw"),l=n("5GAg"),s=n("omvX"),r=n("Mr+X"),u=n("Gi4r"),c=n("SVse");n("5WMv"),n("WTxg"),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return v}));var h=i.qb({encapsulation:0,styles:[["img[_ngcontent-%COMP%]{height:20px}"]],data:{}});function d(e){return i.Ob(0,[(e()(),i.sb(0,0,null,null,6,"div",[["style","font-size: .7em;margin: 0;"]],null,null,null,null,null)),(e()(),i.sb(1,0,[["img",1]],null,0,"img",[["style","width: 70px; height: 70px;"]],[[8,"src",4]],[[null,"error"]],(function(e,t,n){var o=!0;return"error"===t&&(o=!1!==e.component.imgError(i.Eb(e,1))&&o),o}),null,null)),(e()(),i.sb(2,0,null,null,4,"button",[["color","warn"],["mat-icon-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.removeFromImages(e.context.$implicit.name)&&i),i}),o.b,o.a)),i.rb(3,180224,null,0,a.b,[i.k,l.h,[2,s.a]],{color:[0,"color"]},null),(e()(),i.sb(4,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"],["style","font-size: 1.3em !important;"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,r.b,r.a)),i.rb(5,9158656,null,0,u.b,[i.k,u.d,[8,null],[2,u.a],[2,i.l]],null,null),(e()(),i.Mb(-1,0,["delete_sweep"]))],(function(e,t){e(t,3,0,"warn"),e(t,5,0)}),(function(e,t){e(t,1,0,t.context.$implicit.image),e(t,2,0,i.Eb(t,3).disabled||null,"NoopAnimations"===i.Eb(t,3)._animationMode),e(t,4,0,i.Eb(t,5).inline,"primary"!==i.Eb(t,5).color&&"accent"!==i.Eb(t,5).color&&"warn"!==i.Eb(t,5).color)}))}function f(e){return i.Ob(0,[(e()(),i.sb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),i.hb(16777216,null,null,1,null,d)),i.rb(2,278528,null,0,c.l,[i.O,i.L,i.r],{ngForOf:[0,"ngForOf"]},null),(e()(),i.hb(0,null,null,0))],(function(e,t){e(t,2,0,t.component.Images)}),null)}function m(e){return i.Ob(0,[(e()(),i.sb(0,0,[["img",1]],null,0,"img",[["style","width: 70px; height: 70px;"]],[[8,"src",4]],[[null,"error"]],(function(e,t,n){var o=!0;return"error"===t&&(o=!1!==e.component.imgError(i.Eb(e,0))&&o),o}),null,null)),(e()(),i.sb(1,0,null,null,4,"button",[["color","warn"],["mat-icon-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==o.remove(o.oneImage)&&i),i}),o.b,o.a)),i.rb(2,180224,null,0,a.b,[i.k,l.h,[2,s.a]],{color:[0,"color"]},null),(e()(),i.sb(3,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"],["style","font-size: 1.3em !important;"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,r.b,r.a)),i.rb(4,9158656,null,0,u.b,[i.k,u.d,[8,null],[2,u.a],[2,i.l]],null,null),(e()(),i.Mb(-1,0,["delete_sweep"]))],(function(e,t){e(t,2,0,"warn"),e(t,4,0)}),(function(e,t){e(t,0,0,t.component.oneImage),e(t,1,0,i.Eb(t,2).disabled||null,"NoopAnimations"===i.Eb(t,2)._animationMode),e(t,3,0,i.Eb(t,4).inline,"primary"!==i.Eb(t,4).color&&"accent"!==i.Eb(t,4).color&&"warn"!==i.Eb(t,4).color)}))}function v(e){return i.Ob(0,[(e()(),i.sb(0,0,null,null,11,"div",[["class","d-flex mb-3 align-items-center"]],null,null,null,null,null)),(e()(),i.sb(1,0,[["file1",1]],null,0,"input",[["accept","image/*"],["hidden",""],["multiple",""],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.upload(n.target.files)&&i),i}),null,null)),(e()(),i.sb(2,0,null,null,5,"button",[["color","accent"],["mat-raised-button",""],["style","height: fit-content;"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.openInput(i.Eb(e,1))&&o),o}),o.b,o.a)),i.rb(3,180224,null,0,a.b,[i.k,l.h,[2,s.a]],{color:[0,"color"]},null),(e()(),i.sb(4,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,r.b,r.a)),i.rb(5,9158656,null,0,u.b,[i.k,u.d,[8,null],[2,u.a],[2,i.l]],null,null),(e()(),i.Mb(-1,0,["add"])),(e()(),i.Mb(7,0,[" "," "])),(e()(),i.Mb(-1,null,[" \xa0\xa0 "])),(e()(),i.hb(16777216,null,null,1,null,f)),i.rb(10,16384,null,0,c.m,[i.O,i.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),i.hb(0,[["elseTemplate",2]],null,0,null,m))],(function(e,t){var n=t.component;e(t,3,0,"accent"),e(t,5,0),e(t,10,0,n.multiple,i.Eb(t,11))}),(function(e,t){var n=t.component;e(t,2,0,i.Eb(t,3).disabled||null,"NoopAnimations"===i.Eb(t,3)._animationMode),e(t,4,0,i.Eb(t,5).inline,"primary"!==i.Eb(t,5).color&&"accent"!==i.Eb(t,5).color&&"warn"!==i.Eb(t,5).color),e(t,7,0,n.nameBtn)}))}},Fr4G:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function e(){_classCallCheck(this,e)}},Q6Ar:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return h}));var i=n("8Y7J"),o=n("IheW"),a=n("SVse"),l=function(){var e=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.http=t,this.doc=n,this.saveSelection=function(){if(i.doc.getSelection){var e=i.doc.getSelection();e.getRangeAt&&e.rangeCount&&(i.savedSelection=e.getRangeAt(0),i.selectedText=e.toString())}else i.savedSelection=i.doc.getSelection&&i.doc.createRange?document.createRange():null}}return _createClass(e,[{key:"executeCommand",value:function(e){["h1","h2","h3","h4","h5","h6","p","pre"].includes(e)?this.doc.execCommand("formatBlock",!1,e):this.doc.execCommand(e,!1,null)}},{key:"createLink",value:function(e){e.includes("http")?this.insertHtml('<a href="'+e+'" target="_blank">'+this.selectedText+"</a>"):this.doc.execCommand("createlink",!1,e)}},{key:"insertColor",value:function(e,t){this.restoreSelection()&&this.doc.execCommand("textColor"===t?"foreColor":"hiliteColor",!1,e)}},{key:"setFontName",value:function(e){this.doc.execCommand("fontName",!1,e)}},{key:"setFontSize",value:function(e){this.doc.execCommand("fontSize",!1,e)}},{key:"insertHtml",value:function(e){if(!this.doc.execCommand("insertHTML",!1,e))throw new Error("Unable to perform the operation")}},{key:"restoreSelection",value:function(){if(!this.savedSelection)return!1;if(this.doc.getSelection){var e=this.doc.getSelection();return e.removeAllRanges(),e.addRange(this.savedSelection),!0}return!!this.doc.getSelection||void 0}},{key:"executeInNextQueueIteration",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;setTimeout(e,t)}},{key:"checkSelection",value:function(){if(0===this.savedSelection.toString().length)throw new Error("No Selection Made");return!0}},{key:"uploadImage",value:function(e){var t=new FormData;return t.append("file",e,e.name),this.http.post(this.uploadUrl,t,{reportProgress:!0,observe:"events",withCredentials:this.uploadWithCredentials})}},{key:"insertImage",value:function(e){this.doc.execCommand("insertImage",!1,e)}},{key:"setDefaultParagraphSeparator",value:function(e){this.doc.execCommand("defaultParagraphSeparator",!1,e)}},{key:"createCustomClass",value:function(e){var t=this.selectedText;if(e){var n=e.tag?e.tag:"span";t="<"+n+' class="'+e.class+'">'+this.selectedText+"</"+n+">"}this.insertHtml(t)}},{key:"insertVideo",value:function(e){e.match("www.youtube.com")&&this.insertYouTubeVideoTag(e),e.match("vimeo.com")&&this.insertVimeoVideoTag(e)}},{key:"insertYouTubeVideoTag",value:function(e){var t=e.split("v=")[1];this.insertHtml("\n      <div style='position: relative'>\n        <img style='position: absolute; left:200px; top:140px'\n             src=\"https://img.icons8.com/color/96/000000/youtube-play.png\"/>\n        <a href='".concat(e,"' target='_blank'>\n          <img src=\"","https://img.youtube.com/vi/".concat(t,"/0.jpg"),'" alt="click to watch"/>\n        </a>\n      </div>'))}},{key:"insertVimeoVideoTag",value:function(e){var t=this,n=this.http.get("https://vimeo.com/api/oembed.json?url=".concat(e)).subscribe((function(i){t.insertHtml("<div>\n        <a href='".concat(e,"' target='_blank'>\n          <img src=\"").concat(i.thumbnail_url_with_play_button,'" alt="').concat(i.title,'"/>\n        </a>\n      </div>')),n.unsubscribe()}))}},{key:"nextNode",value:function(e){if(e.hasChildNodes())return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null}},{key:"getRangeSelectedNodes",value:function(e,t){var n=e.startContainer,i=e.endContainer,o=[];if(n===i)o=[n];else{for(;n&&n!==i;)o.push(n=this.nextNode(n));for(n=e.startContainer;n&&n!==e.commonAncestorContainer;)o.unshift(n),n=n.parentNode}if(t)for(n=e.commonAncestorContainer;n;)o.push(n),n=n.parentNode;return o}},{key:"getSelectedNodes",value:function(){var e=[];if(this.doc.getSelection)for(var t=this.doc.getSelection(),n=0,i=t.rangeCount;n<i;++n)e.push.apply(e,this.getRangeSelectedNodes(t.getRangeAt(n),!0));return e}},{key:"replaceWithOwnChildren",value:function(e){for(var t=e.parentNode;e.hasChildNodes();)t.insertBefore(e.firstChild,e);t.removeChild(e)}},{key:"removeSelectedElements",value:function(e){var t=this,n=e.toLowerCase().split(",");this.getSelectedNodes().forEach((function(e){1===e.nodeType&&n.indexOf(e.tagName.toLowerCase())>-1&&t.replaceWithOwnChildren(e)}))}}]),e}();return e.ngInjectableDef=Object(i.Sb)({factory:function(){return new e(Object(i.Tb)(o.c),Object(i.Tb)(a.d))},token:e,providedIn:"root"}),e}(),s={editable:!0,spellcheck:!0,height:"auto",minHeight:"0",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",outline:!0},r=function(){function e(t,n,o){_classCallCheck(this,e),this.r=t,this.editorService=n,this.doc=o,this.htmlMode=!1,this.linkSelected=!1,this.block="default",this.fontName="Times New Roman",this.fontSize="3",this.headings=[{label:"Heading 1",value:"h1"},{label:"Heading 2",value:"h2"},{label:"Heading 3",value:"h3"},{label:"Heading 4",value:"h4"},{label:"Heading 5",value:"h5"},{label:"Heading 6",value:"h6"},{label:"Heading 7",value:"h7"},{label:"Paragraph",value:"p"},{label:"Predefined",value:"pre"},{label:"Standard",value:"div"},{label:"default",value:"default"}],this.fontSizes=[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"}],this.customClassId="-1",this.customClassList=[{label:"",value:""}],this.tagMap={BLOCKQUOTE:"indent",A:"link"},this.select=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"],this.buttons=["bold","italic","underline","strikeThrough","subscript","superscript","justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent","insertUnorderedList","insertOrderedList","link"],this.fonts=[{label:"",value:""}],this.execute=new i.m}return _createClass(e,[{key:"triggerCommand",value:function(e){this.execute.emit(e)}},{key:"triggerButtons",value:function(){var e=this;this.showToolbar&&this.buttons.forEach((function(t){var n=e.doc.queryCommandState(t),i=e.doc.getElementById(t+"-"+e.id);n?e.r.addClass(i,"active"):e.r.removeClass(i,"active")}))}},{key:"triggerBlocks",value:function(e){var t=this;if(this.showToolbar){this.linkSelected=e.findIndex((function(e){return"A"===e.nodeName}))>-1;var n=!1;this.select.forEach((function(i){var o=e.find((function(e){return e.nodeName===i}));void 0!==o&&i===o.nodeName?!1===n&&(t.block=o.nodeName.toLowerCase(),n=!0):!1===n&&(t.block="default")})),n=!1,this._customClasses&&this._customClasses.forEach((function(i,o){void 0!==e.find((function(e){if(e instanceof Element)return e.className===i.class}))?!1===n&&(t.customClassId=o.toString(),n=!0):!1===n&&(t.customClassId="-1")})),Object.keys(this.tagMap).map((function(n){var i=t.doc.getElementById(t.tagMap[n]+"-"+t.id),o=e.find((function(e){return e.nodeName===n}));void 0!==o&&n===o.nodeName?t.r.addClass(i,"active"):t.r.removeClass(i,"active")})),this.foreColour=this.doc.queryCommandValue("ForeColor"),this.fontSize=this.doc.queryCommandValue("FontSize"),this.fontName=this.doc.queryCommandValue("FontName").replace(/"/g,""),this.backColor=this.doc.queryCommandValue("backColor")}}},{key:"insertUrl",value:function(){var e="https://",t=this.editorService.savedSelection;if(t&&"A"===t.commonAncestorContainer.parentElement.nodeName){var n=t.commonAncestorContainer.parentElement;""!==n.href&&(e=n.href)}(e=prompt("Insert URL link",e))&&""!==e&&"https://"!==e&&this.editorService.createLink(e)}},{key:"insertVideo",value:function(){this.execute.emit("");var e=prompt("Insert Video link","https://");e&&""!==e&&"https://"!==e&&this.editorService.insertVideo(e)}},{key:"insertColor",value:function(e,t){this.editorService.insertColor(e,t),this.execute.emit("")}},{key:"setFontName",value:function(e){this.editorService.setFontName(e),this.execute.emit("")}},{key:"setFontSize",value:function(e){this.editorService.setFontSize(e),this.execute.emit("")}},{key:"setEditorMode",value:function(e){var t=this.doc.getElementById("toggleEditorMode-"+this.id);e?this.r.addClass(t,"active"):this.r.removeClass(t,"active"),this.htmlMode=e}},{key:"onFileChanged",value:function(e){var t=this,n=e.target.files[0];if(n.type.includes("image/"))if(this.uploadUrl)this.editorService.uploadImage(n).subscribe((function(e){e instanceof o.h&&(t.editorService.insertImage(e.body.imageUrl),t.fileReset())}));else{var i=new FileReader;i.onload=function(e){t.editorService.insertImage(e.currentTarget.result.toString())},i.readAsDataURL(n)}}},{key:"fileReset",value:function(){this.myInputFile.nativeElement.value=""}},{key:"setCustomClass",value:function(e){"-1"===e?this.execute.emit("clear"):this.editorService.createCustomClass(this._customClasses[+e])}},{key:"isButtonHidden",value:function(e){if(!e)return!1;if(!(this.hiddenButtons instanceof Array))return!1;var t,n,i=_createForOfIteratorHelper(this.hiddenButtons);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o instanceof Array&&(t=o.find((function(t){return t===e}))),t)break}}catch(a){i.e(a)}finally{i.f()}return void 0!==t}},{key:"customClasses",set:function(e){e&&(this._customClasses=e,this.customClassList=this._customClasses.map((function(e,t){return{label:e.name,value:t.toString()}})),this.customClassList.unshift({label:"Clear Class",value:"-1"}))}},{key:"defaultFontName",set:function(e){e&&(this.fontName=e)}},{key:"defaultFontSize",set:function(e){e&&(this.fontSize=e)}},{key:"isLinkButtonDisabled",get:function(){return this.htmlMode||!Boolean(this.editorService.selectedText)}}]),e}();function u(e){return null!=e}var c=function(){function e(t,n,o,a,l,r,u){_classCallCheck(this,e),this.r=t,this.editorService=n,this.doc=o,this.sanitizer=a,this.cdRef=l,this.autoFocus=u,this.modeVisual=!0,this.showPlaceholder=!1,this.disabled=!1,this.focused=!1,this.touched=!1,this.changed=!1,this.id="",this.config=s,this.placeholder="",this.viewMode=new i.m,this.blurEvent=new i.m,this.focusEvent=new i.m,this.tabindex=-1;var c=Number(r);this.tabIndex=c||0===c?c:null}return _createClass(e,[{key:"onFocus",value:function(){this.focus()}},{key:"ngOnInit",value:function(){this.config.toolbarPosition=this.config.toolbarPosition?this.config.toolbarPosition:s.toolbarPosition}},{key:"ngAfterViewInit",value:function(){u(this.autoFocus)&&this.focus()}},{key:"executeCommand",value:function(e){this.focus(),"toggleEditorMode"===e?this.toggleEditorMode(this.modeVisual):""!==e&&("clear"===e?(this.editorService.removeSelectedElements(this.getCustomTags()),this.onContentChange(this.textArea.nativeElement)):"default"===e?(this.editorService.removeSelectedElements("h1,h2,h3,h4,h5,h6,p,pre"),this.onContentChange(this.textArea.nativeElement)):this.editorService.executeCommand(e),this.exec())}},{key:"onTextAreaFocus",value:function(e){var t=this;this.focused?e.stopPropagation():(this.focused=!0,this.focusEvent.emit(e),this.touched&&this.changed||this.editorService.executeInNextQueueIteration((function(){t.configure(),t.touched=!0})))}},{key:"onTextAreaMouseOut",value:function(e){this.editorService.saveSelection()}},{key:"onTextAreaBlur",value:function(e){if(this.editorService.executeInNextQueueIteration(this.editorService.saveSelection),"function"==typeof this.onTouched&&this.onTouched(),null!==e.relatedTarget){var t=e.relatedTarget.parentElement;t.classList.contains("angular-editor-toolbar-set")||t.classList.contains("ae-picker")||(this.blurEvent.emit(e),this.focused=!1)}}},{key:"focus",value:function(){this.modeVisual?this.textArea.nativeElement.focus():(this.doc.getElementById("sourceText"+this.id).focus(),this.focused=!0)}},{key:"onContentChange",value:function(e){var t="";(t=this.modeVisual?e.innerHTML:e.innerText)&&"<br>"!==t||(t=""),"function"==typeof this.onChange&&(this.onChange(this.config.sanitize||void 0===this.config.sanitize?this.sanitizer.sanitize(i.H.HTML,t):t),!t!==this.showPlaceholder&&this.togglePlaceholder(this.showPlaceholder)),this.changed=!0}},{key:"registerOnChange",value:function(e){this.onChange=function(t){return e("<br>"===t?"":t)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"writeValue",value:function(e){(!e||"<br>"===e||""===e)!==this.showPlaceholder&&this.togglePlaceholder(this.showPlaceholder),void 0!==e&&""!==e&&"<br>"!==e||(e=null),this.refreshView(e)}},{key:"refreshView",value:function(e){this.r.setProperty(this.textArea.nativeElement,"innerHTML",null===e?"":e)}},{key:"togglePlaceholder",value:function(e){e?(this.r.removeClass(this.editorWrapper.nativeElement,"show-placeholder"),this.showPlaceholder=!1):(this.r.addClass(this.editorWrapper.nativeElement,"show-placeholder"),this.showPlaceholder=!0)}},{key:"setDisabledState",value:function(e){this.r[e?"addClass":"removeClass"](this.textArea.nativeElement,"disabled"),this.disabled=e}},{key:"toggleEditorMode",value:function(e){var t,n=this,i=this.textArea.nativeElement;if(e){t=this.r.createText(i.innerHTML),this.r.setProperty(i,"innerHTML",""),this.r.setProperty(i,"contentEditable",!1);var o=this.r.createElement("pre");this.r.setStyle(o,"margin","0"),this.r.setStyle(o,"outline","none");var a=this.r.createElement("code");this.r.setProperty(a,"id","sourceText"+this.id),this.r.setStyle(a,"display","block"),this.r.setStyle(a,"white-space","pre-wrap"),this.r.setStyle(a,"word-break","keep-all"),this.r.setStyle(a,"outline","none"),this.r.setStyle(a,"margin","0"),this.r.setStyle(a,"background-color","#fff5b9"),this.r.setProperty(a,"contentEditable",!0),this.r.appendChild(a,t),this.focusInstance=this.r.listen(a,"focus",(function(e){return n.onTextAreaFocus(e)})),this.blurInstance=this.r.listen(a,"blur",(function(e){return n.onTextAreaBlur(e)})),this.r.appendChild(o,a),this.r.appendChild(i,o),this.doc.execCommand("defaultParagraphSeparator",!1,"div"),this.modeVisual=!1,this.viewMode.emit(!1),a.focus()}else this.doc.querySelectorAll?this.r.setProperty(i,"innerHTML",i.innerText):((t=this.doc.createRange()).selectNodeContents(i.firstChild),this.r.setProperty(i,"innerHTML",t.toString())),this.r.setProperty(i,"contentEditable",!0),this.modeVisual=!0,this.viewMode.emit(!0),this.onContentChange(i),i.focus();this.editorToolbar.setEditorMode(!this.modeVisual)}},{key:"exec",value:function(){var e;this.editorToolbar.triggerButtons(),this.doc.getSelection&&(e=this.doc.getSelection(),this.editorService.executeInNextQueueIteration(this.editorService.saveSelection));for(var t=e.focusNode,n=[];t&&"editor"!==t.id;)n.unshift(t),t=t.parentNode;this.editorToolbar.triggerBlocks(n)}},{key:"configure",value:function(){this.editorService.uploadUrl=this.config.uploadUrl,this.editorService.uploadWithCredentials=this.config.uploadWithCredentials,this.config.defaultParagraphSeparator&&this.editorService.setDefaultParagraphSeparator(this.config.defaultParagraphSeparator),this.config.defaultFontName&&this.editorService.setFontName(this.config.defaultFontName),this.config.defaultFontSize&&this.editorService.setFontSize(this.config.defaultFontSize)}},{key:"getFonts",value:function(){return(this.config.fonts?this.config.fonts:s.fonts).map((function(e){return{label:e.name,value:e.name}}))}},{key:"getCustomTags",value:function(){var e=["span"];return this.config.customClasses.forEach((function(t){void 0!==t.tag&&(e.includes(t.tag)||e.push(t.tag))})),e.join(",")}},{key:"ngOnDestroy",value:function(){this.blurInstance&&this.blurInstance(),this.focusInstance&&this.focusInstance()}},{key:"filterStyles",value:function(e){return e.replace("position: fixed;","")}}]),e}(),h=function(){function e(t,n){_classCallCheck(this,e),this.elRef=t,this.r=n,this.options=[],this.disabled=!1,this.optionId=0,this.opened=!1,this.hidden="inline-block",this.changeEvent=new i.m,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this.selectedOption=this.options[0],u(this.isHidden)&&this.isHidden&&this.hide()}},{key:"hide",value:function(){this.hidden="none"}},{key:"optionSelect",value:function(e,t){t.stopPropagation(),this.setValue(e.value),this.onChange(this.selectedOption.value),this.changeEvent.emit(this.selectedOption.value),this.onTouched(),this.opened=!1}},{key:"toggleOpen",value:function(e){this.disabled||(this.opened=!this.opened)}},{key:"onClick",value:function(e){this.elRef.nativeElement.contains(e.target)||this.close()}},{key:"close",value:function(){this.opened=!1}},{key:"writeValue",value:function(e){e&&"string"==typeof e&&this.setValue(e)}},{key:"setValue",value:function(e){var t=0,n=this.options.find((function(n,i){return t=i,n.value===e}));n&&(this.selectedOption=n,this.optionId=t)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.labelButton.nativeElement.disabled=e,this.r[e?"addClass":"removeClass"](this.labelButton.nativeElement,"disabled"),this.disabled=e}},{key:"handleKeyDown",value:function(e){if(this.opened)switch(e.key){case"ArrowDown":this._handleArrowDown(e);break;case"ArrowUp":this._handleArrowUp(e);break;case"Space":this._handleSpace(e);break;case"Enter":this._handleEnter(e);break;case"Tab":this._handleTab(e);break;case"Escape":this.close(),e.preventDefault();break;case"Backspace":this._handleBackspace()}}},{key:"_handleArrowDown",value:function(e){this.optionId<this.options.length-1&&this.optionId++}},{key:"_handleArrowUp",value:function(e){this.optionId>=1&&this.optionId--}},{key:"_handleSpace",value:function(e){}},{key:"_handleEnter",value:function(e){this.optionSelect(this.options[this.optionId],e)}},{key:"_handleTab",value:function(e){}},{key:"_handleBackspace",value:function(){}},{key:"label",get:function(){return this.selectedOption&&this.selectedOption.hasOwnProperty("label")?this.selectedOption.label:"Select"}},{key:"value",get:function(){return this.selectedOption.value}},{key:"isOpen",get:function(){return this.opened}}]),e}(),d=function e(){_classCallCheck(this,e)}},ldM8:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={editable:!0,spellcheck:!0,height:"auto",minHeight:"0",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],uploadUrl:n("AytR").a.production?"".concat(window.location.origin,"/api/files/angEditorUploadImage/imageAE"):"http://localhost:8000/api/files/angEditorUploadImage/imageAE",uploadWithCredentials:!1,sanitize:!1,toolbarPosition:"top",toolbarHiddenButtons:[["bold","italic"],["fontSize"]]}}}]);